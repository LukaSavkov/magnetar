syntax = "proto3";

service Magnetar {
  rpc QueryNodes(QueryNodesReq) returns (QueryNodesResp) {}
}

message QueryNodesReq {
  repeated Query queries = 1;
}

message QueryNodesResp {
  repeated NodeStringified nodes = 1;
}

message NodeStringified {
  string id = 1;
  repeated LabelStringified labels = 2;
}

message LabelStringified {
  string key = 1;
  string value = 2;
}

message Query {
  string labelKey = 3;
  string shouldBe = 2;
  string value = 1;
}